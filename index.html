<!DOCTYPE html>
<html>
	<head>
		<title>Data Graphs</title>
		<!-- Load css files from css folder -->
		<link rel='stylesheet' href='css/style.css' />
		<!-- <link rel='stylesheet' href='css/bootstrap.min.css' /> -->
		<link rel='stylesheet' href='css/font-awesome.min.css' />

		<!-- Load c3.css -->
		<link href="css/c3.css" rel="stylesheet" type="text/css">

		<!-- Load d3.js and c3.js -->
		<script src="javascript/library/d3.v3.min.js" charset="utf-8"></script>
		<script src="javascript/library/c3.min.js"></script>

		<!-- Load papaparse.js -->
		<script src="javascript/library/papaparse.min.js"></script> 

		<!-- Load create-table.js and create-graph.js -->
		<script src="javascript/create-table.js"></script>
		<script src="javascript/create-graph.js"></script>
  	</head>

  	<body>
		<div class="header">
			<img src="css/images/logo.jpg" alt="logo" style="height: 15px; margin: 0px 10px;">
		</div>
		<div class="loader" id="loading"></div>

		<div class="fileupload">
			<fieldset class="li-border" id="fileborder">
				<legend>File Upload</legend>
				<label>
					<legend class="innerLegend">Data File</legend>
					<input  class="fileSelect"   id="data_file"         name="datafile"      type="file" accept=".csv"/>
					<button class="uploadButton" id="Upload_Data_File"  title="Upload File"  onclick=UploadFile(1);>Upload</button>
					<span   class="errormessage" id="filemessage"></span>
				</label>
				<label>
					<legend class="innerLegend">Data Log</legend>
					<input  class="fileSelect"   id="data_log"         name="datalog"     type="file" accept=".csv"/>
					<button class="uploadButton" id="Upload_Data_Log"  title="UploadFile" onclick=UploadFile(2);>Upload</button>
					<span   class="errormessage" id="logmessage"></span>
				</label>
				
			</fieldset>
		</div>
			
		<div class="pad-div"></div>

		<div class="tables" id="tables">
			<fieldset class="li-border" id="tableborder">
				<legend>Tables</legend>
				<div class="tab">
					<button disabled class="tabletablinks" onclick="CreateTable(event, 1)" id="data_table_button">Data File Table</button>
					<button disabled class="tabletablinks" onclick="CreateTable(event, 2)" id="log_table_button">Data Log Table</button>
				</div>
				<div class="tabletabcontent" id="data_table">
					<div class="scroller" id="data_table_scroller"></div>
				</div>
				<div class="tabletabcontent" id="log_table">
					<div class="scroller" id="log_table_scroller"></div>
				</div>
			</fieldset>
		</div>
		<div class="pad-div"></div>
		<div class="graphs">
			<fieldset class="li-border" id="graphborder">
				<legend>Graphs</legend>
					<!-- https://www.geeksforgeeks.org/how-to-create-a-dropdown-list-with-array-values-using-javascript/ -->
					<div class="tab">
						<button disabled class="graphtablinks" id="data_graph_button" onclick="parseData(1, 1, event)">Data File Graph</button>
						<button disabled class="graphtablinks" id="log_graph_button"  onclick="parseData(2, 1, event)">Data Log Graph</button> 
					</div>
					<div class="graphtabcontent" id="data_graph">
						<select class="datalinebox" id="dataline1"></select>
						<select class="datalinebox" id="dataline2"></select>
						<select class="datalinebox" id="dataline3"></select>
						<button id="draw_data_graph" onclick="parseData(1, 2, event)">Graph</button>
						<div id="data_chart"></div>
					</div>
					<div class="graphtabcontent" id="log_graph">
						<select class="loglinebox" id="logline1"></select>
						<select class="loglinebox" id="logline2"></select>
						<select class="loglinebox" id="logline3"></select>
						<button id="draw_log_graph" onclick="parseData(2, 2, event)">Graph</button>
						<div id="log_chart"></div>
					</div> 
			</fieldset>
		</div>
		<div class = "footer"></div>
		<!-- </div> -->

		<script type="text/javascript">
			function doClick(type, func) {
				var button;
				if(func == 1) {
					console.log("table tab clicked by script");
					button = type == 1 ? document.getElementById("data_table_button") : document.getElementById("log_table_button");
				}
				else {
					console.log("graph tab clicked by script");
					button = type == 1 ? document.getElementById("data_graph_button") : document.getElementById("log_graph_button");
				}
				button.click();
				console.log("button has finished clicking");
			}

			function displayLoader(type) { 
				var icon = document.getElementById("loading");
				if(type == 1) {
					console.log("displaying loader");
					icon.style.display = "inline";
				}
				else if(type == 2) {
					console.log("hiding loader");
					icon.style.display = "none";
				}
			}
		</script>
  	</body>
</html>